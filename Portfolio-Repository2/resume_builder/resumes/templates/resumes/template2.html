{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        body { font-family: 'Arial', sans-serif; background: #f4f7fa; font-size: 14px; }
        .resume-container { max-width: 850px; margin: 20px auto; background: #fff; box-shadow: 0 5px 15px rgba(0,0,0,0.1); padding: 30px; border-radius: 15px; }
        .header { text-align: center; border-bottom: 3px solid #0d6efd; padding-bottom: 15px; }
        .section { margin-top: 20px; border-left: 5px solid #0d6efd; padding-left: 15px; }
        .section-title { color: #0d6efd; font-weight: bold; margin-bottom: 10px; }
        .icon { color: #0d6efd; margin-right: 8px; }
        .footer { background: #343a40; color: white; padding: 15px; border-radius: 0 0 15px 15px; margin-top: 20px; }
        .full-width-section { margin-top: 20px; padding: 15px; border-top: 3px solid #0d6efd; }
        @media print{
            .col-md-6{
                width:50%;
                float:left;
            }
            .footer{
                page-break-before:avoid;
                position:relative;
            }
        }
    </style>
</head>
<body>
    <div class="resume-container">
        <div class="header">

            <img  src="https://glorious-memory-g459jr6gx7q7f7jv-8000.app.github.dev/{% if resume.photo %}{{resume.photo.url}}{% else %}{% static 'resumes/default_photo.png' %}{% endif %}"class="rounded-circle mb-3" style="width:100px; height:100px; object-fit:cover;">
            <h1 class="fw-bold">{{ resume.name }}</h1>
            <p>Software Engineer</p>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="section">
                    <h3 class="section-title"><i class="bi bi-mortarboard-fill icon"></i>Education</h3>
                    {% for edu in educations %}
                        <div class="mb-3 p-3 bg-light rounded" style="border-left: 5px solid #0d6efd;">
                            <h5 class="fw-bold"><strong>{{ edu.degree }}</strong> - {{ edu.institution }}</h5>
                            <p class="text-muted mb-1"><i class="bi bi-calendar-check icon"></i> Years: {{ edu.years }}</p>
                            <p class="mb-1"><i class="bi bi-star-fill icon"></i> GPA: {{ edu.gpa }}</p>

                        </div>
                    {% endfor %}
                </div>
               <div class="section">
                    <h3 class="section-title"><i class="bi bi-globe icon"></i>Languages</h3>
                    <ul class="list-unstyled">
                        {% for lang in resume.languages_list %}
                            <li><i class="bi bi-check2-circle icon"></i>{{ lang }}</li>
                        {% empty %}
                            <li>No languages listed</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
            <div class="col-md-6">
                <div class="section">
                    <h3 class="section-title"><i class="bi bi-tools icon"></i>Skills</h3>
                    <ul class="list-unstyled">
                        {% for skill in resume.skills_list %}
                            <li><i class="bi bi-check2-circle icon"></i>{{ skill }}</li>
                        {% empty %}
                            <li>No skills listed</li>
                        {% endfor %}
                    </ul>
                </div>

                <div class="section">
                    <h3 class="section-title"><i class="bi bi-briefcase-fill icon"></i>Experience</h3>
                    {% for exp in experiences %}
                        <div class="mb-3 p-3 bg-light rounded" style="border-left: 5px solid #0d6efd;">
                            <h5 class="fw-bold"><strong>{{ exp.job_title }}</strong> - {{ exp.company }}</h5>
                            <p class="text-muted mb-1"><i class="bi bi-calendar-check icon"></i> Years: {{ exp.years }}</p>
                            <p class="mb-1 text-primary" style="word-wrap:break-word;"><i class="bi bi-gear icon"></i> Tech: {{ exp.tech_stack }}</p>
                            <ul class="list-unstyled"><li>{{ exp.description|safe }}</li></ul>
                        </div>
                    {% endfor %}
                </div></div>
        <div class="full-width-section">
            <h3 class="section-title"><i class="bi bi-award-fill icon"></i>Projects & Certifications</h3>
            {% for proj in projects %}

                <div class="mb-3">
                    <p><strong>{{ proj.name }}</strong> - <span class="fw-bold text-primary">{{ proj.tech_used }}</span></p>
                    <ul class="list-unstyled">   <div class="mb-3 p-3 bg-light rounded" style="border-left: 5px solid #0d6efd;"><li>{{ proj.description|safe }}</li></div></ul>
                </div>
            {% endfor %}
        </div>
        <div class="footer text-center">
            <p><i class="bi bi-envelope icon"></i>{{ resume.email }} | <i class="bi bi-telephone icon"></i>{{ resume.phone }} | <i class="bi bi-geo-alt icon"></i>{{ resume.location }}</p>
            <p><i class="bi bi-linkedin icon"></i>{{ resume.linkedin|default:"" }}
    </div>
</body>
</html>
